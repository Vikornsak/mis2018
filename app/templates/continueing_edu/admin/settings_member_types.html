{% extends 'continueing_edu/admin/base.html' %}
{% block title %}Member Types{% endblock %}
{% block content %}
<div class="container">
  <h1 class="title">Member Types</h1>
  <form method="post" class="box">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <div class="columns">
      <div class="column is-3"><input class="input" name="name_en" placeholder="Name EN" required></div>
      <div class="column is-3"><input class="input" name="name_th" placeholder="Name TH" required></div>
      <div class="column is-3"><input class="input" name="code" placeholder="Code (optional)"></div>
      <div class="column is-3"><button class="button is-primary" type="submit">Add</button></div>
    </div>
  </form>
  <table class="table is-fullwidth is-striped">
    <thead><tr><th>ID</th><th>Name EN</th><th>Name TH</th><th>Code</th><th></th></tr></thead>
    <tbody>
      {% for it in items %}
      <tr>
        <td>{{ it.id }}</td>
        <td>{{ it.name_en }}</td>
        <td>{{ it.name_th }}</td>
        <td>{{ it.member_type_code or '-' }}</td>
        <td class="is-narrow">
          <a class="button is-small" href="{{ url_for('continuing_edu_admin.settings_member_types_edit', item_id=it.id) }}">Edit</a>
          <form method="post" action="{{ url_for('continuing_edu_admin.settings_member_types_delete', item_id=it.id) }}" style="display:inline" onsubmit="return confirm('Delete?')">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
            <button class="button is-small is-danger is-light" type="submit">Delete</button>
          </form>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="5" class="has-text-centered">No items.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

